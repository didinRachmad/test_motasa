const d={initIndex(){console.log("Halaman Approval Routes Index berhasil dimuat!");let t;t=$("#datatables");let a=t.data("url");t=t.DataTable({processing:!0,serverSide:!0,ajax:a,columns:[{data:"DT_RowIndex",name:"DT_RowIndex",className:"text-center",orderable:!1,searchable:!1},{data:"module",name:"module"},{data:"role",name:"roles.name"},{data:"sequence",name:"sequence"},{data:"assigned_user",name:"users.email",render:function(n,s,e){return n||'<span class="text-muted">-</span>'}},{data:null,orderable:!1,searchable:!1,className:"text-center no-export",render:function(n,s,e){let l="";return e.can_edit&&(l+=`<a href="${e.edit_url}" class="btn btn-sm btn-warning rounded-4" data-bs-toggle="tooltip" data-bs-title="Edit"><i class="bi bi-pencil-square"></i></a> `),e.can_delete&&(l+=`
                            <form action="${e.delete_url}" method="POST" class="d-inline form-delete">
                                <input type="hidden" name="_token" value="${$('meta[name="csrf-token"]').attr("content")}">
                                <input type="hidden" name="_method" value="DELETE">
                                <button type="button" class="btn btn-sm btn-danger rounded-4 btn-delete" data-bs-toggle="tooltip" data-bs-title="Hapus"><i class="bi bi-trash-fill"></i></button>
                            </form>`),`<div class="d-flex justify-content-center gap-1">${l}</div>`}}],dom:"<'row'<'col-sm-12 col-md-3'l><'col-sm-12 col-md-6 mb-3 mb-md-0 d-flex justify-content-center align-items-center'><'col-sm-12 col-md-3 text-right'f>><'row py-2'<'col-sm-12 table-responsive'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",paging:!0,responsive:!0,pageLength:20,lengthMenu:[[20,50,-1],[20,50,"Semua"]],order:[],columnDefs:[{targets:0,className:"text-center"}],info:!0,language:{sEmptyTable:"Tidak ada data yang tersedia di tabel",sInfo:"Menampilkan _START_ hingga _END_ dari _TOTAL_ entri",sInfoEmpty:"Menampilkan 0 hingga 0 dari 0 entri",sInfoFiltered:"(disaring dari _MAX_ entri keseluruhan)",sInfoPostFix:"",sInfoThousands:".",sLengthMenu:"Tampilkan _MENU_ entri",sLoadingRecords:"Memuat...",sProcessing:"Sedang memproses...",sSearch:"Cari:",sZeroRecords:"Tidak ditemukan data yang cocok",oAria:{sSortAscending:": aktifkan untuk mengurutkan kolom secara menaik",sSortDescending:": aktifkan untuk mengurutkan kolom secara menurun"}},drawCallback:function(){$('[data-bs-toggle="tooltip"]').each(function(){new bootstrap.Tooltip(this)})}})},initShow(){console.log("Halaman Approval Routes Show berhasil dimuat!")},initCreate(){console.log("Halaman Approval Routes Create berhasil dimuat!"),o(),r()},initEdit(){console.log("Halaman Approval Routes Edit berhasil dimuat!"),o(),r();const t=$("#role_id");t.val()&&t.trigger("change")}},o=()=>{$("#module").select2({placeholder:"Pilih Module",allowClear:!0,theme:"bootstrap-5",width:"100%"}),$("#role_id").select2({placeholder:"Pilih Role",allowClear:!0,theme:"bootstrap-5",width:"100%"}),$("#assigned_user_id").select2({placeholder:"Pilih User",allowClear:!0,theme:"bootstrap-5",width:"100%",disabled:!0})},i=t=>{const a=$("#assigned_user_id");a.select2("destroy"),a.empty().trigger("change"),a.select2({placeholder:"Pilih User",allowClear:!0,theme:"bootstrap-5",width:"100%",ajax:{url:window.appRoutes.getUsersByRole(t),delay:250,data:function(e){return{search:e.term,page:e.page||1}},processResults:function(e,l){return l.page=l.page||1,{results:e.data,pagination:{more:e.current_page<e.last_page}}}}});const n=a.data("selected-id"),s=a.data("selected-email");if(n&&s){const e=new Option(s,n,!0,!0);a.append(e).trigger("change")}},r=()=>{$("#role_id").on("change",function(){const t=$(this).val();$("#assigned_user_id").val(null).trigger("change").prop("disabled",!t),t&&i(t)})};export{d as default};
